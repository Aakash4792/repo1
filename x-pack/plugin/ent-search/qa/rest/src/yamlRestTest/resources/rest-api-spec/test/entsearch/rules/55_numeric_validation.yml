---
"Test numeric comparison rule validation":
  - skip:
      features: headers

  - do:
      catch: /\[query_ruleset\] failed to parse field \[rules\]/
      query_rules.put_ruleset:
        ruleset_id: invalid_numeric_test
        body:
          rules:
            - rule_id: invalid_numeric_rule
              type: pinned
              criteria:
                - type: lte
                  metadata: price
                  values: ["not_a_number"]
              actions:
                ids: ["1"]

---
"Test numeric comparison with multiple values":
  - do:
      catch: /\[query_ruleset\] failed to parse field \[rules\]/
      query_rules.put_ruleset:
        ruleset_id: multiple_values_test
        body:
          rules:
            - rule_id: multiple_values_rule
              type: pinned
              criteria:
                - type: lte
                  metadata: price
                  values: ["100", "not_a_number"]
              actions:
                ids: ["1"]

---
teardown:
  - do:
      query_rules.delete_ruleset:
        ruleset_id: invalid_numeric_test
        ignore: 404
  - do:
      query_rules.delete_ruleset:
        ruleset_id: multiple_values_test
        ignore: 404



